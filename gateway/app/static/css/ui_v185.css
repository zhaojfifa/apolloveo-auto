/* v1.85 UI polish: topbar + language tabs + form grids */
.topbar{display:flex;align-items:center;justify-content:space-between;gap:16px;margin:10px 0 14px 0;}
.topbar-left{display:flex;align-items:baseline;gap:12px;min-width:220px;}
.topbar-mid{display:flex;align-items:center;gap:10px;flex:1;justify-content:center;}
.topbar-right{display:flex;align-items:center;gap:12px;justify-content:flex-end;flex-wrap:nowrap;}

.lang-tabs{display:flex;gap:8px;align-items:center;}
.lang-tab{padding:6px 10px;border:1px solid #ddd;border-radius:8px;text-decoration:none;color:inherit;font-size:12px;line-height:1;}
.lang-tab.active{border-color:#111;font-weight:600;}

.actions{display:flex;align-items:center;gap:10px;flex-wrap:nowrap;}
.actions .btn{white-space:nowrap;}

.form-row{display:flex;gap:12px;align-items:flex-start;}
.form-row > label{min-width:110px;white-space:nowrap;}
.form-row .field{flex:1;min-width:0;}

.option-grid{display:grid;gap:10px;grid-template-columns:repeat(2,minmax(180px,1fr));}
@media (max-width: 860px){ .option-grid{grid-template-columns:1fr;} }

.option-item{display:flex;gap:8px;align-items:flex-start;}
.option-item .opt-text{white-space:normal;line-height:1.25;}
.nav-segment{display:flex;gap:6px;padding:4px;border-radius:999px;background:#eef2ff;}
.nav-segment .nav-item{padding:6px 12px;border-radius:999px;text-decoration:none;color:#1f2937;font-size:12px;font-weight:600;}
.nav-segment .nav-item.active{background:#111827;color:#fff;}

.btn-primary{background:#2563eb;color:#fff;padding:8px 12px;border-radius:8px;text-decoration:none;font-weight:700;white-space:nowrap;display:inline-flex;align-items:center;justify-content:center;}
.btn-primary:hover{background:#1d4ed8;}
.btn-ghost{background:#e5e7eb;color:#111827;padding:8px 12px;border-radius:8px;text-decoration:none;font-weight:700;white-space:nowrap;display:inline-flex;align-items:center;justify-content:center;border:0;cursor:pointer;}
.btn-ghost:hover{background:#d1d5db;}
/* ===== clickable nav/action emphasis (ops-friendly) ===== */

/* A) segmented nav (任务/工具) */
.nav-segment a{
  padding: 9px 16px;
  min-height: 36px;
  font-size: 14px;
  font-weight: 700;
  border-radius: 999px;
}
.nav-segment a.active{
  background: #111;
  color: #fff;
  border-color: #111;
}

/* B) navigation buttons (返回/进入/任务看板/工具中心) */
.btn-nav{
  padding: 9px 14px;
  min-height: 36px;
  min-width: 104px;
  font-size: 14px;
  font-weight: 700;
  border-radius: 12px;
  border: 1px solid #e5e5e5;
  background: #fff;
  text-decoration: none;
  color: inherit;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  gap: 8px;
}
.btn-nav:hover{ background:#f7f7f7; border-color:#d8d8d8; }

/* C) primary action button (新建任务等) */
.btn-primary-lg{
  padding: 10px 16px;
  min-height: 38px;
  min-width: 116px;
  font-size: 15px;
  font-weight: 800;
  border-radius: 12px;
}

/* D) language tabs should be smaller than nav/action */
.lang-tab{
  padding: 6px 10px;
  min-height: 28px;
  font-size: 12px;
  font-weight: 600;
  border-radius: 10px;
}
/* ===== v1.85 Segmented Nav: rounded-rect + larger type ===== */

.topbar .nav-segment{
  display:flex;
  align-items:center;
  gap:0;
  border:1px solid #e5e5e5;
  border-radius:14px;
  background:#f4f4f5;
  padding:4px;
  height:40px;
}

.topbar .nav-segment a{
  display:inline-flex;
  align-items:center;
  justify-content:center;
  height:32px;
  padding:0 18px;
  font-size:15px;
  font-weight:800;
  border-radius:10px;
  text-decoration:none;
  color:#111;
  border:1px solid transparent;
}

.topbar .nav-segment a.active{
  background:#111;
  color:#fff;
  border-color:#111;
}

/* language tabs: same shape but weaker */
.topbar .lang-tab{
  display:inline-flex;
  align-items:center;
  justify-content:center;
  min-height:34px;
  padding:0 12px;
  font-size:13px;
  font-weight:700;
  border-radius:12px;
}

/* primary button: match height + bigger */
.topbar .btn-primary-lg,
.topbar .btn-primary{
  min-height:40px;
  padding:0 18px;
  font-size:15px;
  font-weight:900;
  border-radius:12px;
}

/* v1.85 SSOT: pill buttons => rounded-rectangle + bigger text */
:root{
  --ui-pill-radius: 12px;
  --ui-pill-font: 15px;
  --ui-pill-pad-y: 10px;
  --ui-pill-pad-x: 14px;
}

.ui-pill,
.lang-pill,
.nav-pill,
.topbar .btn,
.topbar button,
.topbar a.buttonlike {
  border-radius: var(--ui-pill-radius) !important;
  font-size: var(--ui-pill-font) !important;
  padding: var(--ui-pill-pad-y) var(--ui-pill-pad-x) !important;
  line-height: 1.1;
  font-weight: 600;
}

/* segmented container spacing */
.topbar .segmented,
.topbar .tabs,
.topbar .lang-switch {
  gap: 10px;
}

/* ensure active state still clear */
.topbar .segmented .active,
.topbar .tabs .active,
.topbar .lang-switch .active {
  box-shadow: 0 1px 0 rgba(0,0,0,.06);
}

/* Tasks board: card title and status badge */
.task-title-2l{
  display:-webkit-box;
  -webkit-line-clamp:2;
  -webkit-box-orient:vertical;
  overflow:hidden;
}

.status-badge{
  display:inline-flex;
  align-items:center;
  border-radius:999px;
  padding:2px 8px;
  font-size:11px;
  font-weight:700;
  line-height:1.2;
  border:1px solid transparent;
  background:#e5e7eb;
  color:#374151;
}
.status-badge[data-status="processing"]{
  background:#fef3c7;
  color:#b45309;
  border-color:#fcd34d;
}
.status-badge[data-status="done"]{
  background:#dcfce7;
  color:#15803d;
  border-color:#86efac;
}
.status-badge[data-status="attention"]{
  background:#fee2e2;
  color:#b91c1c;
  border-color:#fca5a5;
}

/* Small buttons for tasks board actions */
.btn-sm{
  display:inline-flex;
  align-items:center;
  justify-content:center;
  height:30px;
  padding:0 10px;
  border-radius:8px;
  font-size:12px;
  font-weight:700;
  text-decoration:none;
  white-space:nowrap;
}
.btn-xs{
  display:inline-flex;
  align-items:center;
  justify-content:center;
  height:26px;
  padding:0 6px;
  border-radius:6px;
  font-size:11px;
  font-weight:600;
  text-decoration:none;
}
.btn-primary-soft{
  background:#eef2ff;
  color:#3730a3;
  border:1px solid #c7d2fe;
}
.btn-primary-soft:hover{ background:#e0e7ff; }
.btn-outline{
  background:#ffffff;
  color:#0f172a;
  border:1px solid #e5e7eb;
}
.btn-outline:hover{ background:#f8fafc; }
.btn-disabled{
  background:#f3f4f6;
  color:#9ca3af;
  border:1px solid #e5e7eb;
  cursor:not-allowed;
}
.btn-link-weak{
  background:none;
  border:0;
  color:#64748b;
  cursor:pointer;
}
.btn-link-weak:hover{ color:#1f2937; text-decoration:underline; }

/* ===== Tasks Board (Figma v0.95) ===== */

.tasks-header { display:flex; justify-content:space-between; align-items:flex-start; gap:16px; }
.tasks-header__title { font-size:24px; font-weight:700; color:#111827; line-height:1.2; }
.tasks-header__subtitle { margin-top:6px; font-size:14px; color:#6b7280; }

.tasks-actions { display:flex; align-items:center; gap:12px; }
.btn-ghost { background: rgba(0,0,0,0.04); border:1px solid rgba(0,0,0,0.06); color:#111827; border-radius:10px; padding:8px 10px; }
.btn-cta { background:#4f46e5; border:1px solid transparent; color:#fff; border-radius:12px; padding:10px 14px; font-weight:600; }
.btn-cta:hover { filter:brightness(0.97); }

.filter-console { display:flex; justify-content:space-between; align-items:center; gap:16px; border-bottom:1px solid #e5e7eb; padding-bottom:12px; }
.scene-tabs { display:flex; gap:18px; align-items:center; }
.scene-tab { padding:10px 2px; color:#6b7280; font-weight:600; border-bottom:2px solid transparent; cursor:pointer; background:none; border-top:0; border-left:0; border-right:0; }
.scene-tab[data-active="true"] { color:#111827; border-bottom-color:#111827; }

.status-legend { display:flex; align-items:center; gap:14px; flex-wrap:wrap; }
.status-legend__label { font-size:12px; color:#9ca3af; margin-right:4px; }
.status-item { display:flex; align-items:center; gap:8px; font-size:13px; color:#111827; cursor:pointer; background:none; border:0; padding:0; }
.status-dot { width:8px; height:8px; border-radius:999px; background:#9ca3af; display:inline-block; }

.status-dot--green { background:#22c55e; }
.status-dot--orange { background:#f59e0b; }
.status-dot--blue { background:#3b82f6; }
.status-dot--red { background:#ef4444; }

.tasks-grid { display:grid; grid-template-columns: repeat(2, minmax(0, 1fr)); gap:18px; }
@media (max-width: 1024px){ .tasks-grid{ grid-template-columns:1fr; } }

.task-card { background:#fff; border-radius:12px; border:1px solid #eef2f7; box-shadow:0 1px 2px rgba(0,0,0,0.05); padding:14px; display:flex; justify-content:space-between; gap:14px; }
.task-card:hover { box-shadow:0 6px 18px rgba(0,0,0,0.08); }

.task-card__left { display:flex; gap:14px; min-width:0; }
.task-card__cover { width:72px; height:72px; border-radius:10px; object-fit:cover; background:#f3f4f6; flex:0 0 auto; }
.task-card__info { min-width:0; display:flex; flex-direction:column; gap:6px; }

.task-card__title{
  display:-webkit-box;
  -webkit-box-orient: vertical;
  -webkit-line-clamp: 2;
  overflow:hidden;
  text-overflow: ellipsis;
  line-height: 1.25;
  max-height: calc(1.25em * 2);
  font-weight: 700;
  color:#111827;
}

.task-card__meta{ color:#6b7280; font-size:12px; display:flex; gap:8px; flex-wrap:wrap; align-items:center; }
.task-pill{ font-size:12px; padding:2px 8px; border-radius:999px; background:#f3f4f6; color:#374151; border:1px solid #e5e7eb; }

.task-card__right{ width:140px; flex:0 0 140px; display:flex; flex-direction:column; align-items:flex-end; }
.task-badge{ padding:4px 10px; border-radius:999px; font-size:12px; font-weight:600; }

.badge-green{ background:#ecfdf5; color:#047857; border:1px solid rgba(16,185,129,0.25); }
.badge-yellow{ background:#fffbeb; color:#92400e; border:1px solid rgba(245,158,11,0.25); }
.badge-blue{ background:#eff6ff; color:#1d4ed8; border:1px solid rgba(59,130,246,0.18); }
.badge-red{ background:#fef2f2; color:#b91c1c; border:1px solid rgba(239,68,68,0.18); }
.badge-gray{ background:#f3f4f6; color:#374151; border:1px solid rgba(107,114,128,0.18); }

.task-actions{ margin-top:auto; display:flex; flex-direction:column; gap:8px; width:100%; }
.btn-primary{ background:#4f46e5; color:#fff; border:1px solid transparent; border-radius:10px; padding:8px 10px; font-weight:600; text-align:center; }
.btn-primary[disabled]{ background:#e5e7eb; color:#9ca3af; cursor:not-allowed; }
.btn-secondary{ background:#fff; color:#111827; border:1px solid #d1d5db; border-radius:10px; padding:8px 10px; font-weight:600; text-align:center; }
.btn-danger-link{ color:#9ca3af; background:transparent; border:none; padding:6px 8px; cursor:pointer; text-align:center; }
.btn-danger-link:hover{ color:#dc2626; }
